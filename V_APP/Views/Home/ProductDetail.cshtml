@model V_APP.Models.Product
<div class="blue_bg">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="titlepage">
                    <h2>Product Detail</h2>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- project section -->
<div id="project" class="project">
    <div class="container row">
        <div class="col-md-6">
            <h1>Image Galery</h1>
            @if (Model.Image == null)
            {
                <div class="row">
                    <div class="col-12">
                        <img src="/data/placeholder.jpg" class="img-thumbnail" style="min-height:300px; max-height:500px; max-width:500px;" alt="" />
                    </div>
                </div>
            }
            else
            {
                <div class="row">
                    <div class="col-12">
                        @{
                            string[] AllImages = Model.Image.Split(',');
                        }
                        <img src="@AllImages[0]" class="largeimage" style="min-height:300px; max-height:500px; max-width:500px;" alt="" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        @for (int i = 0; i < AllImages.Length; i++)
                        {
                            <img src="@AllImages[i]" class="img-thumbnail smallimages" style="max-height:100px;" alt="" />
                        }
                    </div>
                </div>
            }
        </div>
        <div class="col-md-6">
            <dl class="row">
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Name)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Name)
                </dd>
@*                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.SellerId)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.SellerId)
                </dd>*@
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.NoOfView)
                </dt>
                <dd class="col-sm-8">
                <span class="badge rounded-pill bg-primary" id="count">
                    @Html.DisplayFor(model => model.NoOfView)
                    </span>
                </dd>
                @*<dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Image)
                </dt>*@
                @*<dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Image)
                </dd>*@
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Quantity)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Quantity)
                </dd>
                <dt class="col-sm-4">
                    @*@Html.DisplayNameFor(model => model.CategoryId)*@
                    Category
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.CategoryId)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Price)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.Price)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.ShortDescription)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.ShortDescription)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.LongDescription)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.LongDescription)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.DeliveryDays)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.DeliveryDays)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.DeliveryCharges)
                </dt>
                <dd class="col-sm-8">
                    @Html.DisplayFor(model => model.DeliveryCharges)
                </dd>
                <dt class="col-sm-4">
                    @Html.DisplayNameFor(model => model.Status)
                </dt>
                <dd class="col-sm-8">
                    @*@Html.DisplayFor(model => model.Status)*@
                    @if(Model.Status == 0)
                   {
                        <p>InActive</p>
                   }
                   else
                   {
                        <p>Active</p>
                   }
                </dd>
            </dl>
            <div class="text-nowrap">
            <a asp-action="UpdateProduct" asp-route-id="@Model.Id" class="btn btn-warning btn-sm"><i class="bi bi-pencil"> Edit</i></a>
            <a asp-action="ProductList" class="btn btn-info btn-sm"><i class="bi bi-list"> Show list</i></a>
            <a asp-action="DeleteProduct" asp-route-id="@Model.Id" class="btn btn-danger btn-sm"><i class="bi bi-list"> Delete</i></a>
            <a data-pid="@Model.Id" class="btn btn-success btn-sm addtocart"><i class="bi bi-cart-fill"> Add to cart</i></a>
@*            @if (Context.Session.GetInt32("Type") == 4)
            {
                <a asp-controller="WishLists" asp-action="Create" asp-route-id="@Model.Id" class="btn btn-danger btn-sm"><i class="bi bi-bookmark-heart"> Add to wishlist</i></a>
            }
            else
            {
                <a data-pid="@Model.Id" class="btn btn-danger btn-sm addwish"><i class="bi bi-bookmark-heart"> Add to wishlist</i></a>
            }*@
        </div>
        </div>
    </div>
</div>

@section Scripts{

    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

@*      <script>

         $(function(){

            $('#count').load('/Products/Count?id=@Model.Id');

        });

    </script>*@


<script>
    $(function () {
        //$.ajax({
        //    url: '/Products/Count',
        //    type: 'post',
        //    data: { id: @Model.Id}
        //});



        //$("#RC").load("/Products/GetRC?id=@Model.Id&cid=@Model.CategoryId");
            //$.ajax({
            //    url: '/Products/GetRC',
            //    type: 'Get',
            //    data: { id: @Model.Id, cid: @Model.CategoryId}
            //});

        $(".smallimages").click(function () {
            var ClickedImage = $(this);
            $(".largeimage").attr("src", ClickedImage.attr("src"));
            $('.localcart').attr();
        });














    });
</script>
}